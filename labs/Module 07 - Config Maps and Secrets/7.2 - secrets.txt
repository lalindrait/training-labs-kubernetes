
5.2 - Secrets
---------------------------------


echo "mit@12345" | base64
echo "bWl0QDEyMzQ1Cg==" | base64 -d




### lv-secret.yml

apiVersion: v1
kind: Secret
metadata:
  name: lv-app-secret
  labels:
    name: lv-secret
type: Opaque
data:
  AWS_ACCESSS_KEY: bWVnYV9zZWNyZXRfa2V5
  AWS_SECRET: cmVhbGx5X3NlY3JldF92YWx1ZTE=










### secret-nginx-pod.yml


kind: Pod
apiVersion: v1
metadata:
  name: secret-nginx
  labels:
    app: nginx
spec:
  containers:
  - name: secretnginx
    image: nginx:latest
    ports:
    - containerPort: 8080
    volumeMounts:
    - name: secret-vol
      mountPath: /etc/lvsecret
  nodeSelector:
    disktype: local
  volumes:
  - name: secret-vol
    secret:
      secretName: lv-app-secret







kubectl get secrets
kubectl describe secrets lv-app-secret



kubectl create -f secret-nginx-pod.yml
kubectl exec -it secret-nginx -- bash

### From inside the Pod
cat /etc/lvsecret/AWS_ACCESSS_KEY
